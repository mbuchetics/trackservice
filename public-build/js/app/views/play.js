define(["order!libs.jquery","order!libs.underscore","order!libs.backbone","libs.handlebars","libs.json2","utils"],function(a,b,c,d,e,f){var g=c.View.extend({tagName:"tr",className:"",template:d.compile(a("#play_template").html()),templateRecent:d.compile(a("#play_template_recent").html()),events:{"click .button-plus":"like"},initialize:function(){this.model.bind("change",this.render,this)},render:function(){return this.model.get("isRecent")?a(this.el).html(this.templateRecent(this.model.toJSON())):a(this.el).html(this.template(this.model.toJSON())),this},like:function(a){a.preventDefault(),this.model.like()}}),h=c.View.extend({tagName:"table",initialize:function(){this.model.bind("add",this.add,this),this.model.bind("remove",this.remove,this),this.model.bind("reset",this.render,this)},render:function(){var b=this.el;return a(b).empty(),this.model.each(function(c){var d=new g({model:c});a(b).append(d.render().el)}),this},add:function(b,c){var d=c.indexOf(b),e=this.el,f=new g({model:b}),h=f.render().el;d==0?(a(h).fadeIn("slow"),a(e).prepend(h)):(a(h).fadeIn("fast"),a(e).append(h))},remove:function(b,c){var d=c.indexOf(b),e=this.el;a(e).find("tr").eq(d).remove()}});return{PlayView:g,PlaysView:h}})